(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),i=(a(13),a(1)),s=a(2),l=a(4),u=a(3),p=a(7),m=a.n(p);var d=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:m.a,alt:"logo",className:"logo"}),r.a.createElement("div",{className:"header__line"}))},h=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(i.a)(this,e),this._baseUrl=a,this._headers=n}return Object(s.a)(e,[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"sendCardData",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",body:JSON.stringify({name:e.name,link:e.link}),headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"sendUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",body:JSON.stringify({avatar:e.link}),headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"sendUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",body:JSON.stringify({name:e.userName,about:e.userJob}),headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"changeLikeStatus",value:function(e,t){return e?fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)})):fetch("".concat(this._baseUrl,"/cards/likes/").concat(t),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status))})).catch((function(e){console.log(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{authorization:"ba7e8983-1c58-4c25-a942-eec3a1c30fce","Content-Type":"application/json"}});var _=function(e){return r.a.createElement("li",{key:e.id,className:"element"},r.a.createElement("div",{className:"element__rectangle"}),r.a.createElement("div",{className:"element__container"},r.a.createElement("div",{onClick:function(){e.onCardClick(e)},className:"element__image",style:{backgroundImage:"url(".concat(e.link,")")}}),r.a.createElement("button",{className:"element__delete-button hover-button","aria-label":"Delete"}),r.a.createElement("h2",{className:"element__title"},e.name),r.a.createElement("div",{className:"element__wrapper"},r.a.createElement("button",{className:"element__heart hover-button","aria-label":"Like"}),r.a.createElement("p",{className:"element__counter"},e.likes))))},f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userName:"",userDescription:"",userAvatar:"",cards:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.getUserInfo().then((function(t){e.setState({userName:t.name,userDescription:t.about,userAvatar:t.avatar})})),h.getInitialCards().then((function(t){e.setState({cards:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__container"},r.a.createElement("div",{onClick:this.props.onEditProfile,className:"profile__overlay-container"},r.a.createElement("div",{className:"profile__overlay"}),r.a.createElement("img",{src:this.state.userAvatar,alt:"profile-picture",className:"profile__picture"})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("div",{className:"profile__wrapper"},r.a.createElement("h1",{className:"profile__title"},this.state.userName),r.a.createElement("button",{onClick:this.props.onEditAvatar,className:"profile__edit-button hover-button","aria-label":"Edit"})),r.a.createElement("p",{className:"profile__subtitle"},this.state.userDescription))),r.a.createElement("button",{onClick:this.props.onAddPlace,className:"profile__add-button hover-button","aria-label":"Add"})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__container"},this.state.cards.map((function(t){return r.a.createElement(_,{onCardClick:e.props.onCardClick,id:t._id,link:t.link,name:t.name,likes:t.likes.length})})))))}}]),a}(r.a.Component);var E=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around the U.S."))};var v=function(e){return r.a.createElement("div",{className:"popup popup_type_form popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":"")},r.a.createElement("form",{className:"form popup__container",name:"".concat(e.name,"-info"),noValidate:!0},r.a.createElement("button",{onClick:e.onClose,className:"popup__close-icon hover-button","aria-label":"Close"}),r.a.createElement("h2",{className:"popup__title"},e.title),r.a.createElement("fieldset",{className:"popup__fields"},r.a.createElement("label",{className:"popup__field"},e.firstInput),r.a.createElement("label",{className:"popup__field"},e.secondInput),r.a.createElement("input",{type:"submit",className:"popup__button hover-button",value:e.value}))))};var g=function(e){return console.log(e),r.a.createElement("div",{className:"popup popup_type_image ".concat(e.isOpen?"popup_opened":"")},r.a.createElement("div",{className:"popup__container popup__container_image"},r.a.createElement("button",{onClick:e.onClose,className:"popup__close-icon hover-button","aria-label":"Close"}),r.a.createElement("img",{src:"".concat(e.isOpen?e.isOpen.link:"#"),alt:"".concat(e.isOpen?e.isOpen.name:""),className:"popup__image"}),r.a.createElement("p",{className:"popup__image-title"},"".concat(e.isOpen?e.isOpen.name:""))))},k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleEditAvatarClick=function(){n.setState({isEditAvatarPopupOpen:!0})},n.handleEditProfileClick=function(){n.setState({isEditProfilePopupOpen:!0})},n.handleAddPlaceClick=function(){n.setState({isAddPlacePopupOpen:!0})},n.closeAllPopups=function(){n.setState({isEditProfilePopupOpen:!1,isAddPlacePopupOpen:!1,isEditAvatarPopupOpen:!1,selectedCard:void 0}),console.log("hello")},n.handleCardClick=function(e){n.setState({selectedCard:e})},n.state={isEditProfilePopupOpen:!1,isAddPlacePopupOpen:!1,isEditAvatarPopupOpen:!1,selectedCard:0},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"page"},r.a.createElement(d,null),r.a.createElement(f,{onEditProfile:this.handleEditAvatarClick,onAddPlace:this.handleAddPlaceClick,onEditAvatar:this.handleEditProfileClick,onCardClick:this.handleCardClick}),r.a.createElement(E,null),r.a.createElement(v,{name:"edit",title:"Edit profile",value:"Save",isOpen:this.state.isEditProfilePopupOpen,onClose:this.closeAllPopups,firstInput:r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"name-input",className:"form__input popup__item popup__name",name:"userName",placeholder:"Name",minLength:"2",maxLength:"40",pattern:"[A-Za-z -]{1,}",required:!0}),r.a.createElement("span",{id:"name-input-error",className:"form__input-error"})),secondInput:r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"about-input",className:"form__input popup__item popup__about",name:"userJob",placeholder:"About me",minLength:"2",maxLength:"200",required:!0}),r.a.createElement("span",{id:"about-input-error",className:"form__input-error"}))}),r.a.createElement(v,{name:"add",title:"New Place",value:"Create",isOpen:this.state.isAddPlacePopupOpen,onClose:this.closeAllPopups,firstInput:r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"title-input",className:"form__input popup__item popup__place-title",name:"name",placeholder:"Title",minLength:"1",maxLength:"30",required:!0}),r.a.createElement("span",{id:"title-input-error",className:"form__input-error"})),secondInput:r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"url",id:"link-input",className:"form__input popup__item popup__image-link",name:"link",placeholder:"Link",required:!0}),r.a.createElement("span",{id:"link-input-error",className:"form__input-error"}))}),r.a.createElement(g,{isOpen:this.state.selectedCard,onClose:this.closeAllPopups}),r.a.createElement(v,{name:"delete",title:"Are you sure?",value:"Yes"}),r.a.createElement(v,{name:"picture",title:"Change profile picture",value:"Create",isOpen:this.state.isEditAvatarPopupOpen,onClose:this.closeAllPopups,firstInput:r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"url",id:"link-input",className:"form__input popup__item popup__image-link",name:"link",placeholder:"Link",required:!0}),r.a.createElement("span",{id:"link-input-error",className:"form__input-error"}))})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a.p+"static/media/logo.3e6893cd.svg"},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.f14a0bff.chunk.js.map